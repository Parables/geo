<?php

namespace Parables\Geo\Actions;

use Parables\Geo\Actions\GetDownloadLinksAction;

it('fetches a list of links on a page', function () {
   $links = (new GetDownloadLinksAction)
        ->execute('http://download.geonames.org/export/dump/');

   expect($links)->toBe([
'https://www.geonames.org/',
'https://www.geonames.org/postal-codes/',
'https://www.geonames.org/export/',
'https://www.geonames.org/about.html',
'?C=N;O=D',
'?C=M;O=A',
'?C=S;O=A',
'?C=D;O=A',
'/export/',
'AD.zip',
'AE.zip',
'AF.zip',
'AG.zip',
'AI.zip',
'AL.zip',
'AM.zip',
'AN.zip',
'AO.zip',
'AQ.zip',
'AR.zip',
'AS.zip',
'AT.zip',
'AU.zip',
'AW.zip',
'AX.zip',
'AZ.zip',
'BA.zip',
'BB.zip',
'BD.zip',
'BE.zip',
'BF.zip',
'BG.zip',
'BH.zip',
'BI.zip',
'BJ.zip',
'BL.zip',
'BM.zip',
'BN.zip',
'BO.zip',
'BQ.zip',
'BR.zip',
'BS.zip',
'BT.zip',
'BV.zip',
'BW.zip',
'BY.zip',
'BZ.zip',
'CA.zip',
'CC.zip',
'CD.zip',
'CF.zip',
'CG.zip',
'CH.zip',
'CI.zip',
'CK.zip',
'CL.zip',
'CM.zip',
'CN.zip',
'CO.zip',
'CR.zip',
'CS.zip',
'CU.zip',
'CV.zip',
'CW.zip',
'CX.zip',
'CY.zip',
'CZ.zip',
'DE.zip',
'DJ.zip',
'DK.zip',
'DM.zip',
'DO.zip',
'DZ.zip',
'EC.zip',
'EE.zip',
'EG.zip',
'EH.zip',
'ER.zip',
'ES.zip',
'ET.zip',
'FI.zip',
'FJ.zip',
'FK.zip',
'FM.zip',
'FO.zip',
'FR.zip',
'GA.zip',
'GB.zip',
'GD.zip',
'GE.zip',
'GF.zip',
'GG.zip',
'GH.zip',
'GI.zip',
'GL.zip',
'GM.zip',
'GN.zip',
'GP.zip',
'GQ.zip',
'GR.zip',
'GS.zip',
'GT.zip',
'GU.zip',
'GW.zip',
'GY.zip',
'HK.zip',
'HM.zip',
'HN.zip',
'HR.zip',
'HT.zip',
'HU.zip',
'ID.zip',
'IE.zip',
'IL.zip',
'IM.zip',
'IN.zip',
'IO.zip',
'IQ.zip',
'IR.zip',
'IS.zip',
'IT.zip',
'JE.zip',
'JM.zip',
'JO.zip',
'JP.zip',
'KE.zip',
'KG.zip',
'KH.zip',
'KI.zip',
'KM.zip',
'KN.zip',
'KP.zip',
'KR.zip',
'KW.zip',
'KY.zip',
'KZ.zip',
'LA.zip',
'LB.zip',
'LC.zip',
'LI.zip',
'LK.zip',
'LR.zip',
'LS.zip',
'LT.zip',
'LU.zip',
'LV.zip',
'LY.zip',
'MA.zip',
'MC.zip',
'MD.zip',
'ME.zip',
'MF.zip',
'MG.zip',
'MH.zip',
'MK.zip',
'ML.zip',
'MM.zip',
'MN.zip',
'MO.zip',
'MP.zip',
'MQ.zip',
'MR.zip',
'MS.zip',
'MT.zip',
'MU.zip',
'MV.zip',
'MW.zip',
'MX.zip',
'MY.zip',
'MZ.zip',
'NA.zip',
'NC.zip',
'NE.zip',
'NF.zip',
'NG.zip',
'NI.zip',
'NL.zip',
'NO.zip',
'NP.zip',
'NR.zip',
'NU.zip',
'NZ.zip',
'OM.zip',
'PA.zip',
'PE.zip',
'PF.zip',
'PG.zip',
'PH.zip',
'PK.zip',
'PL.zip',
'PM.zip',
'PN.zip',
'PR.zip',
'PS.zip',
'PT.zip',
'PW.zip',
'PY.zip',
'QA.zip',
'RE.zip',
'RO.zip',
'RS.zip',
'RU.zip',
'RW.zip',
'SA.zip',
'SB.zip',
'SC.zip',
'SD.zip',
'SE.zip',
'SG.zip',
'SH.zip',
'SI.zip',
'SJ.zip',
'SK.zip',
'SL.zip',
'SM.zip',
'SN.zip',
'SO.zip',
'SR.zip',
'SS.zip',
'ST.zip',
'SV.zip',
'SX.zip',
'SY.zip',
'SZ.zip',
'TC.zip',
'TD.zip',
'TF.zip',
'TG.zip',
'TH.zip',
'TJ.zip',
'TK.zip',
'TL.zip',
'TM.zip',
'TN.zip',
'TO.zip',
'TR.zip',
'TT.zip',
'TV.zip',
'TW.zip',
'TZ.zip',
'UA.zip',
'UG.zip',
'UM.zip',
'US.zip',
'UY.zip',
'UZ.zip',
'VA.zip',
'VC.zip',
'VE.zip',
'VG.zip',
'VI.zip',
'VN.zip',
'VU.zip',
'WF.zip',
'WS.zip',
'XK.zip',
'YE.zip',
'YT.zip',
'YU.zip',
'ZA.zip',
'ZM.zip',
'ZW.zip',
'admin1CodesASCII.txt',
'admin2Codes.txt',
'adminCode5.zip',
'allCountries.zip',
'alternateNames.zip',
'alternateNamesDeletes-2025-01-20.txt',
'alternateNamesModifications-2025-01-20.txt',
'alternateNamesV2.zip',
'alternatenames/',
'cities1000.zip',
'cities15000.zip',
'cities500.zip',
'cities5000.zip',
'countryInfo.txt',
'deletes-2025-01-20.txt',
'featureCodes_bg.txt',
'featureCodes_en.txt',
'featureCodes_nb.txt',
'featureCodes_nn.txt',
'featureCodes_no.txt',
'featureCodes_ru.txt',
'featureCodes_sv.txt',
'hierarchy.zip',
'iso-languagecodes.txt',
'modifications-2025-01-20.txt',
'no-country.zip',
'readme.txt',
'shapes_all_low.zip',
'shapes_simplified_low.json.zip',
'timeZones.txt',
'userTags.zip',
   ]);
});
